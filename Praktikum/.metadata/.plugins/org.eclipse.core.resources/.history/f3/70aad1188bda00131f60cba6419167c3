package studiplayer.audio;

import studiplayer.basic.WavParamReader;

public class WavFile extends SampledFile {

	// constructors

	public WavFile() {
		super();
	}

	public WavFile(String s) throws NotPlayableException {
		super(s);
		readAndSetDurationFromFile(this.getPathname());
	}

	// methods

	public void readAndSetDurationFromFile(String pathname) {
		WavParamReader.readParams(pathname);
		this.duration = computeDuration(WavParamReader.getNumberOfFrames(),
				WavParamReader.getFrameRate());
	}

	public String toString() {
		return super.toString() + " - " + getFormattedDuration();
	}

	public String[] fields() {
		String[] fields = { author, title, "", this.getFormattedDuration() };
		return fields;
	}

	public static long computeDuration(long numberOfFrames, float frameRate) {

		return (long) (numberOfFrames / frameRate * 1000000);
	}
}
